# 1. Instalação e configuração do Lacuna (Plugin para assinatura digital | SEPLAG)

- Novo ambiente: http://devcanixti-cge.nordeste-idc.saveincloud.net:11977/login
- Link para o chrome: https://chromewebstore.google.com/detail/web-pki/dcngeagmmhegagicpcmpinaoklddcgon
- Link para os demais ambientes: https://get.webpkiplugin.com/Setup?brand=&jslib=&browser=Chrome&returnUrl=

## 1.1. Gerar o certificado
https://demos.lacunasoftware.com/pt/demos/generate-certificate

![image](https://github.com/user-attachments/assets/99d99a5d-2be0-4ac7-9915-9d0c9dab41da)

Após preencher os dados -> Emitir Certificado

![image](https://github.com/user-attachments/assets/87980c39-d79b-4134-8513-5df03aada4cc)

Clicar em Start

![image](https://github.com/user-attachments/assets/89f6d68e-c665-44b1-96b3-90926bb47aa2)

![image](https://github.com/user-attachments/assets/4d4f67f1-bbea-4145-bd32-f212587ffc2c)

Depois em Confirm

![image](https://github.com/user-attachments/assets/a27b364c-5214-4055-9b03-e1971bb61b30)

Clicar em Desktop, se clicar em Mobile tem que instalar o app

![image](https://github.com/user-attachments/assets/b57f9a00-c1dd-4fc7-bd2c-f419988f1e30)

Será enviado o código para o celular cadastrado no passo tal

![image](https://github.com/user-attachments/assets/a4b9fd1e-4f58-4ede-8438-e1ad517e38c4)

Clicar em Software

![image](https://github.com/user-attachments/assets/8772997b-1571-4416-9c9f-13b7dce73486)

![image](https://github.com/user-attachments/assets/e2a3cc5c-5835-44d6-9dac-fd9df03959fb)

Clicar em Issue Certificate

![image](https://github.com/user-attachments/assets/baad79bc-87ac-4afa-a040-5f6919694ba8)

![image](https://github.com/user-attachments/assets/d2662df4-edda-4935-8d90-e913ffae53d0)

Vai aparecer uma caxinha

![image](https://github.com/user-attachments/assets/b72fcb1c-415a-48a1-b686-0aa6c54ed39e)

Inserir a Senha, neste caso: 12345

![image](https://github.com/user-attachments/assets/9436343b-8a15-489e-9ff8-e3fa064c409e)

Vai inicar a importação e onde salvar

![image](https://github.com/user-attachments/assets/185a8b80-a014-4fd5-9542-aa1b72fe0fb4)

neste caso foi em:

```
C:\Users\angelo.filho\Documents\CGE\Novo SACC
```

![image](https://github.com/user-attachments/assets/9962c831-b996-40b6-807e-734e9e131395)

O nome do arquivo ficou padrão: 

```
(DEMO) ANGELO LUSTOSA DE FIGUEIREDO FILHO.pfx
```

### 1.2. Para verificar o arquivo criado:

![image](https://github.com/user-attachments/assets/1cad2fa3-9c47-4ea3-a494-a420de0c020b)


Para validar o certificado:

https://demos.lacunasoftware.com/en/demos/pdf-signature

![image](https://github.com/user-attachments/assets/de7d7bc7-44c9-4c98-bf27-ad07d11531c9)



Dúvida e Sugestões - Link 
https://share.teamforms.app/form/M2ViNWExYTgtOTA3My00ZGFhLThhNzctNDNjMzcyMmUwMTI2OjE4NjI3NGNiLTdkOWEtNDQ5OC04ZTc1LThjODRjODgxZWJkMDphZmRjMDJlMi02NmY4LTRkMjYtODRlNy1hOWYwZjNjMmM1ODM=?embedMode=true

CPF Fornecedor: 750.957.130-80


### 1.3.  Assinar Documento

Em Solicitações -> Análises Jurídicas

![image](https://github.com/user-attachments/assets/b6ed4524-3465-4918-ab18-1a14f9e0822f)


![image](https://github.com/user-attachments/assets/bad98a34-c404-4300-8f96-cc925a401fd3)

Aassinar Documento

![image](https://github.com/user-attachments/assets/6c23b975-329d-4177-8197-29b54220d1b1)

Escolher o certificado do usuário

![image](https://github.com/user-attachments/assets/545b75f3-c716-4f1a-8174-bdf5afc275fb)

Assinar

![image](https://github.com/user-attachments/assets/83391ec3-d604-4584-bda0-9c52ee93d5be)

Permitir no plugin

![image](https://github.com/user-attachments/assets/1a7b623b-bcf5-4e97-9b7c-af9efcf593bb)

OBR: Para ver os detalhes 

![image](https://github.com/user-attachments/assets/b5dd8b4b-3a9d-402e-9559-8a625787ac98)

Após assinado, está sempre na última pagina

OBS Técnica: ele assina o pdf que está no filesytem e o google doc previsualiza o pdf assinado.

![image](https://github.com/user-attachments/assets/81f49252-cf18-4f8d-96a4-c69eeffb9474)

## Formalização

Ao definir os signatários e assinar.

![image](https://github.com/user-attachments/assets/29626189-88d6-4e05-a919-ebd95323fe7d)

Vai para Aba Assinaturas

![image](https://github.com/user-attachments/assets/5002ef24-3647-40a4-99c5-2306b4b8f0d2)


Eu clico no olho e vê quem assinou:

![image](https://github.com/user-attachments/assets/717a9097-3197-46b2-b489-b5c4d50020e1)

Situações das assinaturas
Nome                   Situação
ERIKA ADM	             FILA DE ESPERA ASSINATURA
ANA VITÓRIA CAETANO	   AGUARDANDO ASSINATURA

A ANA VITÓRIA CAETANO está AGUARDANDO ASSINATURA (Contratante) tem que assinar obrigatoriamente e depois o signatário do órgão


** Publicação

Clicar na guia Publicação ele aparece na tabela e no botão INICIAR (o play)

![image](https://github.com/user-attachments/assets/b73d497e-a29f-473b-8ba1-53bbd4004230)

Clicar em Gerar o extrato

![image](https://github.com/user-attachments/assets/927a9eeb-24b6-4cd1-8cc4-a80c7814f45d)

O Extrato é gerado e Salvar o Extrato

![image](https://github.com/user-attachments/assets/b49f43a6-bb91-416f-974a-a82752d0f5cf)

O breadcrumb não aparece 

Na Aba Documentos ao cliar no +, ele aparece na tabela de baixo(Lista de documentos -> Documentos selecionados) 

![image](https://github.com/user-attachments/assets/595a71ba-1aa8-4863-9b78-04395adfae14)

Seria interessante que ele saísse do Lista de documentos , não apenas desabilitar o botão, ou ter um botão para adicionar todos de uma vez (mas são opcionais)

Se eu não colocar documentos ele não permite transmitir

![image](https://github.com/user-attachments/assets/30f4062e-db47-4f9e-9a21-96afacc0bd47)

mas a mensagem não reflete que está faltando documento.

```
Erro
Não foi possível se comunicar com outros sistemas! Tente novamente em alguns instantes.
```

Deveria ser algo referente que deve ter documento

Quando adiciono o documento e clico em Transmitir

![image](https://github.com/user-attachments/assets/ffbe1b6d-f439-407a-a80a-5fda291d816f)

Ele vai ser enviado e aparece na Aba Transmissões e SITUAÇÂO: ENVIADA.

![image](https://github.com/user-attachments/assets/bf0fdf3d-1653-40ef-aadb-13a877c6d2bf)

Para simular a publicação clicar no botão de Download. 

![image](https://github.com/user-attachments/assets/e116a5b7-1a5b-49e1-8a14-bf47e9d56f53)

A Situação vai para PUBLICADO.

![image](https://github.com/user-attachments/assets/16a429b4-0449-4f73-8588-495f588b42f3)
